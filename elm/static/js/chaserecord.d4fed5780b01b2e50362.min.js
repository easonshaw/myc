webpackJsonp([26,42],{538:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a(9),o=r(l),s=a(8),i=r(s),n=a(6);e.default={data:function(){return{filterform:{start:null,end:null,names:[{id:"",name:"全部游戏"}],gameId:"",issue:"",billNo:"",page:1,size:10,total:0,pagetotals:0,field:"",direction:""},istoday:2,listData:null,listDataShow:!1}},created:function(){this.initdate()},mounted:function(){this.getGameList()},methods:{initdate:function(){var t=new Date((new Date).setHours(3,0,0,0)),e=new Date(t-6048e5);this.filterform.start=e,this.filterform.end=t},dateToStr:function(t){var t=new Date(t),e=t.getFullYear(),a=t.getMonth()+1,r=t.getDate(),l=t.getHours(),o=t.getMinutes();return e+"-"+a+"-"+r+" "+l+":"+o},getGameList:function(){var t=this;return(0,i.default)(o.default.mark(function e(){var a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.getGames)();case 2:a=e.sent,0==a.code&&a.result.forEach(function(e){e.gamePermission.forEach(function(e){t.filterform.names.push(e)})});case 4:case"end":return e.stop()}},e,t)}))()},dateSel:function(t){this.istoday=t;var e=new Date((new Date).setHours(3,0,0,0));if(1==t){var a=new Date(e.getTime()-864e5);this.filterform.start=a,this.filterform.end=e}else{var r=new Date(e.getTime()+864e5);this.filterform.start=e,this.filterform.end=r}},onFilterSubmit:function(){var t=this;return(0,i.default)(o.default.mark(function e(){var a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""==t.filterform.start||""==t.filterform.end){e.next=7;break}return e.next=3,(0,n.chaseRecord)(t.dateToStr(t.filterform.start),t.dateToStr(t.filterform.end),t.filterform.gameId,t.filterform.page,t.filterform.size,t.filterform.field,t.filterform.direction);case 3:a=e.sent,console.log(a),0!=a.code&&(t.listDataShow=!1,t.$alert(a.msg,"提示信息",{confirmButtonText:"确定"})),0==a.code&&(t.listDataShow=!0,t.listData=a.result.rows,t.filterform.total=a.result.total,t.filterform.pagetotals=a.result.totalPages);case 7:case"end":return e.stop()}},e,t)}))()},handleSizeChange:function(t){this.filterform.page=1,this.filterform.size=t,this.onFilterSubmit()},handleCurrentChange:function(t){this.filterform.page=t,this.onFilterSubmit()},tableChange:function(t){this.filterform.page=1,this.filterform.field=void 0==t.prop?"":t.prop,this.filterform.direction="descending"==t.order?"desc":"asc",this.onFilterSubmit()},tableRowClassName:function(t){var e=(t.row,t.rowIndex);return 0===e?"header-row":"body-row"}}}},843:function(t,e,a){e=t.exports=a(4)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"chaserecord.vue",sourceRoot:"webpack://"}])},1179:function(t,e,a){var r=a(843);"string"==typeof r&&(r=[[t.id,r,""]]);a(5)(r,{});r.locals&&(t.exports=r.locals)},1283:function(t,e,a){a(1179);var r=a(3)(a(538),a(1333),"data-v-3ce034b1",null);t.exports=r.exports},1333:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"teamsummary"},[a("div",{staticClass:"fiterForm"},[a("el-form",{ref:"form",attrs:{inline:!0,model:t.filterform,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期",format:"yyyy-MM-dd HH:mm"},model:{value:t.filterform.start,callback:function(e){t.$set(t.filterform,"start",e)},expression:"filterform.start"}})],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期",format:"yyyy-MM-dd HH:mm"},model:{value:t.filterform.end,callback:function(e){t.$set(t.filterform,"end",e)},expression:"filterform.end"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"游戏名称"}},[a("el-select",{attrs:{placeholder:"所有游戏"},model:{value:t.filterform.gameId,callback:function(e){t.$set(t.filterform,"gameId",e)},expression:"filterform.gameId"}},t._l(t.filterform.names,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{class:[0==t.istoday?"el-button--danger":""],on:{click:function(e){t.dateSel(0)}}},[t._v("今天")]),t._v(" "),a("el-button",{class:[1==t.istoday?"el-button--danger":""],on:{click:function(e){t.dateSel(1)}}},[t._v("昨天")])],1),t._v(" "),a("el-form-item",{staticClass:"floatright"},[a("el-button",{attrs:{type:"danger"},on:{click:t.onFilterSubmit}},[t._v("查询")])],1)],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.listDataShow,expression:"listDataShow"}],staticClass:"teamlist paddinglf"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.listData,border:"","header-row-class-name":t.tableRowClassName,"default-sort":{prop:"date",order:"descending"}},on:{"sort-change":t.tableChange}},[a("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"betTime",label:"投注时间",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"gameName",label:"游戏名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"startIssue",label:"开始期数",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"playName",label:"玩法"}}),t._v(" "),a("el-table-column",{attrs:{prop:"betNumber",label:"投注号码",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"planTotal",label:"追号总金额",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"betTotal",label:"完成金额",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"cancelTotal",label:"取消金额",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"winStop",label:"中奖后终止",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",sortable:""}})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.listDataShow,expression:"listDataShow"}],staticClass:"teamPagination"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","current-page":t.filterform.page,"page-size":t.filterform.size,"page-count":t.filterform.pagetotals,layout:"total, sizes, prev, pager, next, jumper",total:t.filterform.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])},staticRenderFns:[]}}});