webpackJsonp([15,42],{566:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(9),n=a(s),o=r(8),i=a(o),u=r(36),l=a(u),c=r(11),f=r(6);t.default={data:function(){var e=function(e,t,r){if(console.log(t),!t)return r(new Error("用户名不能为空"));var a=/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){4,14}$/;return a.exec(t)?void r():r(new Error("请输入5至15个字符组成"))};return{userForm:{accountType:"4",userName:"",passwd:"sky888",fastPoint:0,fastPointMin:0,fastPointMax:12.8,fastPointMinLABEL:1700,fastPointMaxLABEL:1956},rebate:{rebatePointSSC:{VALUE:0,TEXT:1700,LABEL:"时时彩"},rebatePointLFFFC:{VALUE:0,TEXT:1700,LABEL:"两分分分彩"},rebatePointMMC:{VALUE:0,TEXT:1700,LABEL:"时时彩"},rebatePointFTC:{VALUE:0,TEXT:1700,LABEL:"福体彩"},rebatePoint11X5:{VALUE:0,TEXT:1700,LABEL:"11选5"},rebatePointLF11X5:{VALUE:0,TEXT:1700,LABEL:"两分11选5"},rebatePointBJSC:{VALUE:0,TEXT:1700,LABEL:"11选5"},rebatePointK3:{VALUE:0,TEXT:1700,LABEL:"快三"},rebatePointZRSX:{VALUE:0,TEXT:1700,LABEL:"真人视讯"}},userFormRules:{userName:[{validator:e,trigger:"blur"}]}}},mounted:function(){this.loading=this.$loading({fullscreen:!0}),this.initData()},components:{},created:function(){},computed:(0,l.default)({},(0,c.mapState)(["userInfo"])),watch:{"$store.state.userInfo":function(e,t){this.initData()}},methods:(0,l.default)({},(0,c.mapMutations)(["RECORD_USERINFO"]),{initData:function(){var e=this;return(0,i.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:null!=e.userInfo&&void 0!=e.userInfo.bonusSSC&&(e.userForm.fastPointMax=1*e.userInfo.rebatePointSSC,e.loading.close());case 1:case"end":return t.stop()}},t,e)}))()},fastPointhandleChange:function(e){var t=this.calUserPointNO(e);this.fastPoint=e;var r=void 0;for(r in this.rebate)"rebatePointZRSX"!=r&&(this.rebate[r].VALUE=e,this.rebate[r].TEXT=t)},submitForm:function(e){var t=this;return(0,i.default)(n.default.mark(function r(){return n.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.$refs[e].validate(function(e){return!!e&&void t.createUser()});case 1:case"end":return r.stop()}},r,t)}))()},createUser:function(){var e=this;return(0,i.default)(n.default.mark(function t(){var r,a;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.createUser)(e.userForm.userName,e.userForm.accountType,e.rebate.rebatePointSSC.VALUE,e.rebate.rebatePointLFFFC.VALUE,e.rebate.rebatePointMMC.VALUE,e.rebate.rebatePointFTC.VALUE,e.rebate.rebatePoint11X5.VALUE,e.rebate.rebatePointLF11X5.VALUE,e.rebate.rebatePointBJSC.VALUE,e.rebate.rebatePointK3.VALUE,e.rebate.rebatePointZRSX.VALUE);case 2:r=t.sent,0==r.code?(a=e,e.$message({showClose:!0,message:"添加下级用户成功",type:"success",onClose:function(){a.$router.push({name:"userlist"})}})):e.$message.error(r.msg),console.log(r);case 5:case"end":return t.stop()}},t,e)}))()},calUserPointNORate:function(e){return 100*(e-1700)/2e3},calUserPointNO:function(e){return 1700+20*e},validaterebatePoint:function(e){}})}},852:function(e,t,r){t=e.exports=r(4)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"createuser.vue",sourceRoot:"webpack://"}])},1188:function(e,t,r){var a=r(852);"string"==typeof a&&(a=[[e.id,a,""]]);r(5)(a,{});a.locals&&(e.exports=a.locals)},1311:function(e,t,r){r(1188);var a=r(3)(r(566),r(1342),"data-v-50a5bf50",null);e.exports=a.exports},1342:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"createUser"},[r("el-form",{ref:"userForm",staticClass:"editForm",attrs:{model:e.userForm,"inline-message":"",rules:e.userFormRules,"label-width":"120px"}},[r("div",{staticClass:"title"},[e._v("新增用户")]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"用户类型"}},[r("el-radio-group",{attrs:{size:"medium"},model:{value:e.userForm.accountType,callback:function(t){e.$set(e.userForm,"accountType",t)},expression:"userForm.accountType"}},[r("el-radio",{attrs:{border:"",label:"4"}},[e._v("代理")]),e._v(" "),r("el-radio",{attrs:{border:"",label:"5"}},[e._v("会员")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[r("el-input",{model:{value:e.userForm.userName,callback:function(t){e.$set(e.userForm,"userName",t)},expression:"userForm.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"预设密码"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.userForm.passwd,callback:function(t){e.$set(e.userForm,"passwd",t)},expression:"userForm.passwd"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"})])],1),e._v(" "),r("div",{staticClass:"title"},[e._v("返点设置")]),e._v(" "),r("el-col",{attrs:{span:24}},[r("el-col",{attrs:{span:20}},[r("el-form-item",{staticClass:"fastSetPoint",attrs:{label:"快速返点设置"}},[r("el-slider",{attrs:{min:e.userForm.fastPointMin,max:e.userForm.fastPointMax,step:.1,"show-input":""},on:{change:e.fastPointhandleChange},model:{value:e.userForm.fastPoint,callback:function(t){e.$set(e.userForm,"fastPoint",t)},expression:"userForm.fastPoint"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:2}}),e._v(" "),r("el-col",{attrs:{span:2}})],1),e._v(" "),r("el-col",{attrs:{span:24}},e._l(e.rebate,function(t,a){return r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:t.LABEL,prop:a}},[r("el-input",{model:{value:t.VALUE,callback:function(r){e.$set(t,"VALUE",r)},expression:"item.VALUE"}}),e._v(" "),r("span",{staticClass:"pointText"},[e._v(e._s(t.TEXT))])],1)],1)})),e._v(" "),r("el-col",{staticClass:"userSubmit",attrs:{span:24}},[r("el-button",{attrs:{type:"danger"},on:{click:function(t){e.submitForm("userForm")}}},[e._v("确认创建")])],1),e._v(" "),r("div",{staticClass:"clear"})],1)],1)},staticRenderFns:[]}}});