webpackJsonp([17,42],{561:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(9),s=r(l),o=a(8),i=r(o),n=a(6);t.default={data:function(){return{TIMERULE:" 03:00",teambetslistData:[],betstableloading:!0,scheduleTableVisabel:!1,filterform:{start:null,end:null,userName:"",gtype:"",gtypes:[{id:"",name:"全部彩种"}],page:1,size:10,total:0,field:"",direction:""},istoday:2,isgroup:0}},mounted:function(){},components:{},created:function(){this.initFilterData()},watch:{"filterform.gtype":function(e,t){this.changeGametype(e)}},computed:{},methods:{initFilterData:function(){var e=new Date,t=new Date(e-6048e5),a=t.getFullYear(),r=t.getMonth()+1,l=t.getDate(),s=e.getFullYear(),o=e.getMonth()+1,i=e.getDate();this.filterform.start=a+"-"+r+"-"+l+this.TIMERULE,this.filterform.end=s+"-"+o+"-"+i+this.TIMERULE,this.getGameList()},utypeSel:function(e){this.isgroup=e,e||(this.filterform.userName="")},dateSel:function(e){this.istoday=e;var t=new Date;if(1==e){var a=new Date((new Date).getTime()-864e5);this.filterform.start=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+this.TIMERULE,this.filterform.end=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+this.TIMERULE}else{var r=new Date((new Date).getTime()+864e5);this.filterform.start=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+this.TIMERULE,this.filterform.end=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+this.TIMERULE}},changeGametype:function(e){this.filterform.allowIssue=""==e,""==e&&(this.filterform.issue="")},getGameList:function(){var e=this;return(0,i.default)(s.default.mark(function t(){var a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.getGames)();case 2:a=t.sent,0==a.code&&a.result.forEach(function(t){t.gamePermission.forEach(function(t){e.filterform.gtypes.push(t)})});case 4:case"end":return t.stop()}},t,e)}))()},onFilterSubmit:function(){var e=this;return(0,i.default)(s.default.mark(function t(){var a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.getTeamScheduleList)(e.filterform.page,e.filterform.size,e.filterform.field,e.filterform.direction,e.filterform.start,e.filterform.end,e.filterform.userName,e.filterform.gtype);case 2:a=t.sent,0==a.code&&(e.filterform.total=a.result.total,e.teambetslistData=a.result.rows,e.betstableloading=!1,e.scheduleTableVisabel=!0),console.log(a);case 5:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){this.betstableloading=!0,this.filterform.page=1,this.filterform.size=e,this.onFilterSubmit()},handleCurrentChange:function(e){this.betstableloading=!0,this.filterform.page=e,this.onFilterSubmit()},teambetssortchange:function(e){this.betstableloading=!0,this.filterform.page=1,this.filterform.field=void 0==e.prop?"":e.prop,this.filterform.direction="descending"==e.order?"desc":"asc",this.onFilterSubmit()},tableRowClassName:function(e){var t=(e.row,e.rowIndex);return 0===t?"header-row":"body-row"}}}},871:function(e,t,a){t=e.exports=a(4)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"schedule.vue",sourceRoot:"webpack://"}])},1208:function(e,t,a){var r=a(871);"string"==typeof r&&(r=[[e.id,r,""]]);a(5)(r,{});r.locals&&(e.exports=r.locals)},1306:function(e,t,a){a(1208);var r=a(3)(a(561),a(1362),"data-v-d6b540cc",null);e.exports=r.exports},1362:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"teamPage"},[a("div",{staticClass:"fiterForm"},[a("el-form",{ref:"form",attrs:{inline:!0,model:e.filterform,"label-width":"80px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"时间"}},[a("el-row",[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期",format:"yyyy-MM-dd HH:mm"},model:{value:e.filterform.start,callback:function(t){e.$set(e.filterform,"start",t)},expression:"filterform.start"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期",format:"yyyy-MM-dd HH:mm"},model:{value:e.filterform.end,callback:function(t){e.$set(e.filterform,"end",t)},expression:"filterform.end"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{disabled:!e.isgroup,placeholder:"请输入用户名"},model:{value:e.filterform.userName,callback:function(t){e.$set(e.filterform,"userName",t)},expression:"filterform.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"所有彩种"},model:{value:e.filterform.gtype,callback:function(t){e.$set(e.filterform,"gtype",t)},expression:"filterform.gtype"}},e._l(e.filterform.gtypes,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:" "}},[a("el-button",{class:[0==e.istoday?"el-button--danger":""],on:{click:function(t){e.dateSel(0)}}},[e._v("今天")]),e._v(" "),a("el-button",{class:[1==e.istoday?"el-button--danger":""],on:{click:function(t){e.dateSel(1)}}},[e._v("昨天")])],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"uytpes",attrs:{label:" "}},[a("el-button",{class:[0==e.isgroup?"el-button--danger":""],on:{click:function(t){e.utypeSel(0)}}},[e._v("个人")]),e._v(" "),a("el-button",{class:[1==e.isgroup?"el-button--danger":""],on:{click:function(t){e.utypeSel(1)}}},[e._v("团队")])],1)],1),e._v(" "),a("el-col",{staticClass:"searchTeamBets",attrs:{span:12}},[a("el-button",{attrs:{type:"danger"},on:{click:e.onFilterSubmit}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),e.scheduleTableVisabel?a("div",{staticClass:"teamlist"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.betstableloading,expression:"betstableloading"}],staticStyle:{width:"100%"},attrs:{data:e.teambetslistData,border:"","header-row-class-name":e.tableRowClassName,"default-sort":{prop:"date",order:"descending"}},on:{"sort-change":e.teambetssortchange}},[a("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"追号时间",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"gameId",label:"彩种"}}),e._v(" "),a("el-table-column",{attrs:{prop:"chaseIssue",label:"期号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"playName",label:"玩法"}}),e._v(" "),a("el-table-column",{attrs:{prop:"betNumber",label:"追号内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"betTotal",label:"追号总金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"betTotal",label:"完成金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"winStop",label:"中奖后终止"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatus",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{attrs:{slot:"reference"},slot:"reference"},[0==t.row.orderStatus?a("span",{},[e._v("未开奖")]):e._e(),e._v(" "),1==t.row.orderStatus?a("span",{staticClass:"status_warning"},[e._v("已封盘")]):e._e(),e._v(" "),2==t.row.orderStatus?a("span",{staticClass:"status_warning"},[e._v("已撤单")]):e._e(),e._v(" "),3==t.row.orderStatus?a("span",{staticClass:"status_success"},[e._v("已中奖")]):e._e(),e._v(" "),4==t.row.orderStatus?a("span",{},[e._v("未中奖")]):e._e(),e._v(" "),5==t.row.orderStatus?a("span",{staticClass:"status_warning"},[e._v("系统撤单")]):e._e()])]}}])})],1),e._v(" "),a("div",{staticClass:"teamPagination"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","current-page":e.filterform.page,"page-size":e.filterform.size,"page-sizes":[1,5,10,20,50,100],"page-count":e.filterform.pagetotals,layout:"total, sizes, prev, pager, next, jumper",total:e.filterform.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1):e._e()])},staticRenderFns:[]}}});