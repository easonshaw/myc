webpackJsonp([27,42],{536:function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=r(9),i=a(l),o=r(8),s=a(o),n=r(6);e.default={data:function(){return{filterform:{start:null,end:null,type:"2",types:[{value:"2",label:"AG"}],page:1,size:20,total:0,pagetotals:0},istoday:2,listData:[],listDataShow:!1,field:"",direction:""}},created:function(){this.initdate()},methods:{initdate:function(){var t=new Date((new Date).setHours(3,0,0,0)),e=new Date(t-6048e5);this.filterform.start=e,this.filterform.end=t},dateToStr:function(t){var t=new Date(t),e=t.getFullYear(),r=t.getMonth()+1,a=t.getDate(),l=t.getHours(),i=t.getMinutes();return e+"-"+r+"-"+a+" "+l+":"+i},dateSel:function(t){this.istoday=t;var e=new Date((new Date).setHours(3,0,0,0));if(1==t){var r=new Date(e.getTime()-864e5);this.filterform.start=r,this.filterform.end=e}else{var a=new Date(e.getTime()+864e5);this.filterform.start=e,this.filterform.end=a}},onFilterSubmit:function(){var t=this;return(0,s.default)(i.default.mark(function e(){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""==t.filterform.start||""==t.filterform.end){e.next=6;break}return e.next=3,(0,n.getReport)(t.dateToStr(t.filterform.start),t.dateToStr(t.filterform.end),t.filterform.page,t.filterform.size,t.filterform.type,t.filterform.field,t.filterform.direction);case 3:r=e.sent,0!=r.code&&(t.listDataShow=!1,t.$alert(r.msg,"提示信息",{confirmButtonText:"确定"})),0==r.code&&(t.listDataShow=!0,t.listData=[],t.listData.push(r.result));case 6:case"end":return e.stop()}},e,t)}))()},handleSizeChange:function(t){this.filterform.page=1,this.filterform.size=t,this.onFilterSubmit()},handleCurrentChange:function(t){this.filterform.page=t,this.onFilterSubmit()},tableChange:function(t){this.filterform.page=1,this.filterform.field=void 0==t.prop?"":t.prop,this.filterform.direction="descending"==t.order?"desc":"asc",this.onFilterSubmit()},tableRowClassName:function(t){var e=(t.row,t.rowIndex);return 0===e?"header-row":"body-row"}}}},844:function(t,e,r){e=t.exports=r(4)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"agreport.vue",sourceRoot:"webpack://"}])},1180:function(t,e,r){var a=r(844);"string"==typeof a&&(a=[[t.id,a,""]]);r(5)(a,{});a.locals&&(t.exports=a.locals)},1281:function(t,e,r){r(1180);var a=r(3)(r(536),r(1334),"data-v-4147be50",null);t.exports=a.exports},1334:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"teamsummary"},[r("div",{staticClass:"fiterForm"},[r("el-form",{ref:"form",attrs:{inline:!0,model:t.filterform,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"时间"}},[r("el-col",{attrs:{span:11}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期",format:"yyyy-MM-dd HH:mm"},model:{value:t.filterform.start,callback:function(e){t.$set(t.filterform,"start",e)},expression:"filterform.start"}})],1),t._v(" "),r("el-col",{staticClass:"line",attrs:{span:2}},[t._v(" ")]),t._v(" "),r("el-col",{attrs:{span:11}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期",format:"yyyy-MM-dd HH:mm"},model:{value:t.filterform.end,callback:function(e){t.$set(t.filterform,"end",e)},expression:"filterform.end"}})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"游戏"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.filterform.type,callback:function(e){t.$set(t.filterform,"type",e)},expression:"filterform.type"}},t._l(t.filterform.types,function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),r("el-form-item",[r("el-button",{class:[0==t.istoday?"el-button--danger":""],on:{click:function(e){t.dateSel(0)}}},[t._v("今天")]),t._v(" "),r("el-button",{class:[1==t.istoday?"el-button--danger":""],on:{click:function(e){t.dateSel(1)}}},[t._v("昨天")])],1),t._v(" "),r("el-form-item",{staticClass:"floatright"},[r("el-button",{attrs:{type:"danger"},on:{click:t.onFilterSubmit}},[t._v("查询")])],1)],1)],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.listDataShow,expression:"listDataShow"}],staticClass:"teamlist paddinglf"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.listData,border:"","header-row-class-name":t.tableRowClassName,"default-sort":{prop:"date",order:"descending"}},on:{"sort-change":t.tableChange}},[r("el-table-column",{attrs:{prop:"betTotal",label:"总消费"}}),t._v(" "),r("el-table-column",{attrs:{prop:"winTotal",label:"总消费派奖"}}),t._v(" "),r("el-table-column",{attrs:{prop:"activityTotal",label:"总活动"}}),t._v(" "),r("el-table-column",{attrs:{prop:"realGainTotal",label:"总盈亏"}})],1)],1)])},staticRenderFns:[]}}});