webpackJsonp([36,42],{525:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=a(r),s=n(8),o=a(s),u=n(36),c=a(u),l=(n(12),n(11)),m=n(6);t.default={data:function(){var e=function(e,t,n){if(!t)return n(new Error("昵称不能为空"));var a=/^[a-zA-Z0-9\u4E00-\u9FFF]{1,20}$/;return a.exec(t)?void n():n(new Error("请输入1至10个字符组成"))};return{updateNickForm:{nickName:""},rules:{nickName:[{validator:e,trigger:"blur"}]}}},mounted:function(){this.initData()},created:function(){},watch:{"$store.state.userInfo":function(e,t){this.initData()}},computed:(0,c.default)({},(0,l.mapState)(["userInfo"])),components:{},methods:(0,c.default)({},(0,l.mapMutations)(["RECORD_USERINFO"]),{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){return!!e&&void t.setNicknameFunc()})},initData:function(){this.userInfo&&(this.updateNickForm.nickName=this.userInfo.nickName)},setNicknameFunc:function(){var e=this;return(0,o.default)(i.default.mark(function t(){var n,a,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.setNickname)(e.updateNickForm.nickName);case 2:n=t.sent,e.fullscreenLoading=!1,a=e,0==n.code?(r=e.userInfo,r.nickName=e.updateNickForm.nickName,e.RECORD_USERINFO(r),e.$message({message:"恭喜您，昵称修改成功！",type:"success",onClose:function(){}})):e.$message.error(n.msg);case 6:case"end":return t.stop()}},t,e)}))()}})}},862:function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"updateNickname.vue",sourceRoot:"webpack://"}])},1199:function(e,t,n){var a=n(862);"string"==typeof a&&(a=[[e.id,a,""]]);n(5)(a,{});a.locals&&(e.exports=a.locals)},1270:function(e,t,n){n(1199);var a=n(3)(n(525),n(1353),"data-v-78d9f447",null);e.exports=a.exports},1353:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("el-form",{ref:"updateNickForm",staticClass:"ruleForm",attrs:{model:e.updateNickForm,rules:e.rules,"label-width":"100px"}},[n("el-row",{attrs:{gutter:12}},[n("el-col",{attrs:{span:10}},[n("div",{staticClass:"grid-content bg-purple"},[n("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[n("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.updateNickForm.nickName,callback:function(t){e.$set(e.updateNickForm,"nickName",t)},expression:"updateNickForm.nickName"}})],1)],1)]),e._v(" "),n("el-col",{attrs:{span:4}},[n("span",{staticClass:"updateNickLabel"},[e._v("由1至10个字符组成")])])],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"danger"},on:{click:function(t){e.submitForm("updateNickForm")}}},[e._v("修改昵称")])],1)],1)],1)},staticRenderFns:[]}}});